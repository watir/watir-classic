h2=. Scripting Web Tests

h2=. Lab 6: Harnessing Tests

You've written a number of tests. Now it's time to put them all
together with a test harness. This will allow them to run in sequence
and automatically report whether any of the tests fail.

The following code demonstrates how to create a simple test harness
that loads one test script.

<pre>
  require 'watir'
  require 'test/unit'
  class LoadTestScript < Test::Unit::TestCase
    def test_login_start
      load 'login-start.rb'
    end
    def teardown
      ie = Watir::IE.attach(:title, /Timeclock/)
      ie.close if ie
    end
  end
</pre>

You can add additional tests, by defining additional methods to the
class whose names begin with 'test_' that load the desired
scripts. 

# *Test Harness.* Create a test harness that executes all of your test
scripts. Each of your scripts should include assertions to verify the
test results. If you haven't added assertions to them, now is the time.

*Bonus Exercises.* If you have time, you may want to try the following:

# *Record Check.* Write another test script. Start with a user that
    has no time records. Record time sessions for two separate jobs,
    one session for each. Verify that two time records appear.

# *Test Strategy.* Look over the test ideas you developed in Lab 1.
   Write a test script for one or more of your ideas.

h3=. Solution to Lab 5

See the following for solutions to Lab 5:

# "solutions/lab5_1.rb":solutions/lab5_1.rb
# "solutions/lab5_2.rb":solutions/lab5_1.rb

